<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Smallweb</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="getting-started.html">Getting Started</a></li><li class="chapter-item expanded affix "><li class="part-title">Guides</li><li class="chapter-item expanded "><a href="guides/routing.html"><strong aria-hidden="true">1.</strong> Routing</a></li><li class="chapter-item expanded "><a href="guides/static.html"><strong aria-hidden="true">2.</strong> Static Websites</a></li><li class="chapter-item expanded "><a href="guides/dynamic.html"><strong aria-hidden="true">3.</strong> Dynamic Websites</a></li><li class="chapter-item expanded "><a href="guides/env.html"><strong aria-hidden="true">4.</strong> Environment Variables</a></li><li class="chapter-item expanded "><a href="guides/permissions.html"><strong aria-hidden="true">5.</strong> Permissions</a></li><li class="chapter-item expanded "><a href="guides/cron.html"><strong aria-hidden="true">6.</strong> Cron Jobs</a></li><li class="chapter-item expanded "><a href="guides/templates.html"><strong aria-hidden="true">7.</strong> Templates</a></li><li class="chapter-item expanded "><a href="guides/plugins.html"><strong aria-hidden="true">8.</strong> Plugins</a></li><li class="chapter-item expanded "><a href="guides/tooling.html"><strong aria-hidden="true">9.</strong> Tooling</a></li><li class="chapter-item expanded affix "><li class="part-title">Hosting</li><li class="chapter-item expanded "><a href="hosting/localhost/localhost.html"><strong aria-hidden="true">10.</strong> Localhost</a></li><li class="chapter-item expanded "><a href="hosting/home-server/home-server.html"><strong aria-hidden="true">11.</strong> Cloudflare</a></li><li class="chapter-item expanded "><a href="hosting/vps.html"><strong aria-hidden="true">12.</strong> VPS</a></li><li class="chapter-item expanded "><a href="hosting/fly.html"><strong aria-hidden="true">13.</strong> Fly.io</a></li><li class="chapter-item expanded "><a href="hosting/deno-deploy.html"><strong aria-hidden="true">14.</strong> Deno Deploy</a></li><li class="chapter-item expanded affix "><li class="part-title">Reference</li><li class="chapter-item expanded "><a href="reference/global_config.html"><strong aria-hidden="true">15.</strong> Global Config</a></li><li class="chapter-item expanded "><a href="reference/app_config.html"><strong aria-hidden="true">16.</strong> App Config</a></li><li class="chapter-item expanded "><a href="reference/cli.html"><strong aria-hidden="true">17.</strong> CLI</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Smallweb</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/pomdtr/smallweb" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="getting-started"><a class="header" href="#getting-started">Getting started</a></h1>
<h2 id="why-smallweb-"><a class="header" href="#why-smallweb-">Why Smallweb ?</a></h2>
<p>See <a href="https://smallweb.run">https://smallweb.run</a> for a quick overview of the project.</p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<p>Smallweb installations steps heavily depends on the experience you want to have with Smallweb. Here are a few options:</p>
<ul>
<li><a href="./hosting/localhost/localhost.html">Localhost Setup</a> - Easiest way to get started, no need for a dedicated server or a domain name. Work on MacOS and Linux.</li>
<li><a href="./hosting/home-server/home-server.html">Home Server Setup</a> - Host you apps on your home server, and expose them to the internet using Cloudflare Tunnel. Requires a domain name.</li>
<li><a href="./hosting/vps.html">VPS Setup</a> - Similar to the Home Server setup, but using a VPS Provider instead. Shows you how to setup a fresh Debian 12 VPS to host your smallweb apps.</li>
</ul>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>Follow the <a href="./guides/routing.html">Routing</a> guide to learn more about the smallweb folder structure, and create your first app.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="routing"><a class="header" href="#routing">Routing</a></h1>
<p>Smallweb maps domains to folders. By default, it will maps <code>*.localhost</code> to <code>~/localhost/*</code>, but you can add more hostnames from the config (<code>~/.config/smallweb/config.json[c]</code>).</p>
<h2 id="mapping-a-single-domain-to-a-folder"><a class="header" href="#mapping-a-single-domain-to-a-folder">Mapping a single domain to a folder</a></h2>
<pre><code class="language-json">{
  "domains": {
    "example.com": "~/example.com"
  }
}
</code></pre>
<h2 id="mapping-a-wildcard-domain-to-a-single-folder"><a class="header" href="#mapping-a-wildcard-domain-to-a-single-folder">Mapping a wildcard domain to a single folder</a></h2>
<pre><code class="language-json">{
  "domains": {
    "*.example.com": "~/example.com",
  }
}
</code></pre>
<h2 id="mapping-a-wildcard-domain-to-multiple-folders"><a class="header" href="#mapping-a-wildcard-domain-to-multiple-folders">Mapping a wildcard domain to multiple folders</a></h2>
<pre><code class="language-json">{
  "domains": {
    "*.example.com": "~/example.com/*"
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="static"><a class="header" href="#static">Static</a></h1>
<h2 id="static-assets"><a class="header" href="#static-assets">Static Assets</a></h2>
<p>The simplest smallweb app you can create is just a folder with a text file in it.</p>
<pre><code class="language-sh">mkdir -p ~/localhost/example-website
echo "Hello, world!" &gt; ~/localhost/example-website/hello.txt
</code></pre>
<p>If you open <code>https://hello-world.localhost/hello.txt</code> in your browser, you should see the content of the file.</p>
<h2 id="static-websites"><a class="header" href="#static-websites">Static Websites</a></h2>
<p>If the folder contains an <code>index.html</code> file, it will be served as the root of the website.</p>
<pre><code class="language-html">&lt;!-- File: ~/localhost/example-website/index.html --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;title&gt;Smallweb - Host websites from your internet folder&lt;/title&gt;
  &lt;link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body class="bg-white flex items-center justify-center min-h-screen text-black"&gt;
  &lt;div class="border-4 border-black p-10 text-center"&gt;
    &lt;h1 class="text-6xl font-extrabold mb-4"&gt;Smallweb&lt;/h1&gt;
    &lt;p class="text-2xl mb-6"&gt;Host websites from your internet folder&lt;/p&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>If you open <code>https://example-website.localhost</code> in your browser, you should see the content of the <code>index.html</code> file.</p>
<h2 id="static-site-generation"><a class="header" href="#static-site-generation">Static Site Generation</a></h2>
<p>In order to integrate with SSG tools like <a href="https://astro.build">Astro</a>, <a href="https://gohugo.io">Hugo</a> or <a href="https://lume.land">Lume</a>, smallweb automatically serves the content of the <code>dist</code> folder if it contains an <code>index.html</code> file.</p>
<p>If you static site generator does not use the <code>dist</code> folder, you can either configure it to do so, or create a <code>smallweb.json</code> file at the root of your project to specify the folder to serve.</p>
<pre><code class="language-json">{
  "serve": "public"
}
</code></pre>
<p>Vite projects are also supported out of the box.</p>
<pre><code class="language-sh">cd ~/localhost
npm create vite@latest
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dynamic-websites"><a class="header" href="#dynamic-websites">Dynamic Websites</a></h1>
<p>Smallweb can also host dynamic websites. To create a dynamic website, you need to create a folder with a <code>main.[js,ts,jsx,tsx]</code> file in it.</p>
<p>The file should export a default object with a <code>fetch</code> method that takes a <code>Request</code> object as argument, and returns a <code>Response</code> object.</p>
<pre><code class="language-ts">// File: ~/localhost/example-server/main.ts

export default {
  fetch(request: Request) {
    const url = new URL(request.url);
    const name = url.searchParams.get("name") || "world";

    return new Response(`Hello, ${name}!`, {
      headers: {
        "Content-Type": "text/plain",
      },
    });
  },
}
</code></pre>
<p>To access the server, open <code>https://example-server.localhost</code> in your browser.</p>
<h2 id="using-jsx"><a class="header" href="#using-jsx">Using JSX</a></h2>
<p>You can use the <code>@jsxImportSource</code> pragma to define the source of the jsx factory function. This allows you to use jsx in your server code.</p>
<pre><code class="language-tsx">// File: ~/localhost/jsx-example/main.tsx
/** @jsxImportSource npm:@preact **/
import render from "npm:preact-render-to-string";

const handler = () =&gt; new Response(render(&lt;h1&gt;Hello, world!&lt;/h1&gt;), {
  headers: {
    "Content-Type": "text/html",
  },
});

export default { fetch: handler };
</code></pre>
<p>To access the server, open <code>https://jsx-example.localhost</code> in your browser.</p>
<h2 id="routing-requests-using-hono"><a class="header" href="#routing-requests-using-hono">Routing Requests using Hono</a></h2>
<p>Smallweb use the <a href="https://deno.com">deno</a> runtime to evaluate the server code. You get typescript and jsx support out of the box, and you can import any module from the npm and jsr registry by prefixing the module name with <code>npm:</code> or <code>jsr:</code>.</p>
<p>As an example, the following code snippet use the <code>@hono/hono</code> extract params from the request url.</p>
<pre><code class="language-jsx">// File: ~/localhost/hono-example/main.ts

import { Hono } from "jsr:@hono/hono";

const app = new Hono();

app.get("/", c =&gt; c.text("Hello, world!"));

app.get("/:name", c =&gt; c.text(`Hello, ${c.params.name}!`));

export default app;
</code></pre>
<p>To access the server, open <code>https://hono-example.localhost</code> in your browser.</p>
<div style="break-before: page; page-break-before: always;"></div><h3 id="setting-env-variables"><a class="header" href="#setting-env-variables">Setting env variables</a></h3>
<p>You can set environment variables for your app by creating a file called <code>.env</code> in the application folder.</p>
<p>Here is an example of a <code>.env</code> file:</p>
<pre><code class="language-txt">BEARER_TOKEN=SECURE_TOKEN
</code></pre>
<p>Use the <code>Deno.env.get</code> method to access the environment variables in your app:</p>
<pre><code class="language-ts">// File: ~/localhost/demo/main.ts
export default function (req: Request) {
  if (req.headers.get("Authorization") !== `Bearer ${Deno.env.get("BEARER_TOKEN")}`) {
    return new Response("Unauthorized", { status: 401 });
  }

  return new Response(`I'm private!`, {
    headers: {
      "Content-Type": "text/plain",
    },
  });
}
</code></pre>
<p>If you want to set an environment variable for all your apps, you can use the <code>env</code> property from the smallweb global config (<code>~/.config/smallweb/config.json[c]</code>).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuring-permissions"><a class="header" href="#configuring-permissions">Configuring permissions</a></h1>
<p>By default, a smallweb app can:</p>
<ul>
<li>read and write the current directory</li>
<li>access environment variables using <code>Deno.env.get</code></li>
<li>access the network with <code>fetch</code></li>
</ul>
<p>If you want to add more permissions to your app (or restrict it even further), you can either:</p>
<ul>
<li>add <code>smallweb.json</code> configuration file at the root of the folder</li>
<li>add a <code>smallweb</code> field in your <code>deno.json</code></li>
</ul>
<p>A json schema for the config file is available <a href="https://schema.smallweb.run">here</a>. See the deno docs to learn the <a href="https://docs.deno.com/runtime/manual/basics/permissions">available permissions</a>.</p>
<p>Here is the default config when no <code>smallweb.json</code> file is present:</p>
<pre><code class="language-json">{
  "$schema": "https://schema.smallweb.run",
  "permissions": {
    "env": true,
    "net": true,
    "read": ["."],
    "write": {
      "allow": ["."],
      "deny": [ "smallweb.json", "smallweb.jsonc", "deno.json", "deno.jsonc"]
    }
  }
}
</code></pre>
<p>If you want to add permissions to run a binary, you should start from it, then add the required permissions:</p>
<pre><code class="language-json">{
  "$schema": "https://schema.smallweb.run",
  "permissions": {
    "env": true,
    "net": true,
    "read": ["."],
    "write": {
      "allow": ["."],
      "deny": [ "smallweb.json", "smallweb.jsonc", "deno.json", "deno.jsonc"]
    },
    "run": ["/opt/homebrew/bin/gh"],
  }
}
</code></pre>
<p>As a general rule, you should only add permissions that are required for your app to run. The more permissions you add, the more attack surface you expose to potential attackers. If you know what you are doing (or just don't care), you can allow all permissions by setting the <code>all</code> field to <code>true</code>.</p>
<pre><code class="language-json">{
  "$schema": "https://schema.smallweb.run",
  "permissions": {
    "all": true
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cron-jobs"><a class="header" href="#cron-jobs">Cron Jobs</a></h1>
<p>You can register configure cron tasks from your <code>smallweb.json[c]</code> or the <code>smallweb</code> field from your <code>deno.json[c]</code>.</p>
<pre><code class="language-json">{
    "crons": [
        {
            "name": "refresh-cache",
            "schedule": "0 0 * * *",
            "command": "./refresh-cache.ts",
            "args": []
        }
    ]
}
</code></pre>
<p>The schedule field is a cron expression that defines when the task should run. It follows the standard cron syntax, with five fields separated by spaces. You can also use the following shortcuts:</p>
<ul>
<li><code>@hourly</code>: Run once an hour, at the beginning of the hour.</li>
<li><code>@daily</code>: Run once a day, at midnight.</li>
<li><code>@weekly</code>: Run once a week, at midnight on Sunday.</li>
<li><code>@monthly</code>: Run once a month, at midnight on the first day of the month.</li>
<li><code>@yearly</code>: Run once a year, at midnight on January 1st.</li>
</ul>
<p>Cron tasks can be defined in any language, as long as the file is executable and has the appropriate shebang line. You'll probably want to use deno as the runtime, more information on how to do that can be found in the <a href="https://docs.deno.com/runtime/tutorials/hashbang/">deno docs</a>.</p>
<p>You can trigger a cron task manually by running the following command:</p>
<pre><code class="language-sh">smallweb cron trigger &lt;cron&gt;
</code></pre>
<p>If you're not in the app directory, you can specify the app name with the <code>--app</code> flag:</p>
<pre><code class="language-sh">smallweb cron trigger --app &lt;app&gt; &lt;cron&gt;
</code></pre>
<p>If you want to see a list of all cron tasks, you can run:</p>
<pre><code class="language-sh">smallweb cron list
</code></pre>
<p>If you're not in the app directory, you can specify the app name with the <code>--app</code> flag, or use the <code>--all</code> flag to list all cron tasks:</p>
<pre><code class="language-sh"># list all cron tasks
smallweb cron list --all
# list all cron tasks for a specific domain
smallweb cron list --domain &lt;domain&gt;
# list all cron tasks for a specific app
smallweb cron list --app &lt;app&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="templates"><a class="header" href="#templates">Templates</a></h1>
<p>Smallweb comes with a list of templates to help you get started with your project. You can use the <code>smallweb init</code> command to create a new project from a template.</p>
<pre><code class="language-sh"># Interactive mode
smallweb init

# Init a project from a template
smallweb init ~/localhost/hono-app --template hono
</code></pre>
<p>In addition to this, smallweb is compatible with most static sites generator, so you can use your favorite generator to create your project.</p>
<p>Ex: <code>npm create vite@latest ~/localhost/my-vite-app</code></p>
<p>Depending on the framework you choose, you might need to either:</p>
<ul>
<li>Setup your build process to output files in a <code>dist</code> folder (smallweb will serve the content of this by default).</li>
<li>Add a <code>smallweb.json</code> file to the root of your project to specify the folder to serve using the <code>serve</code> field.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="smallweb-plugins"><a class="header" href="#smallweb-plugins">Smallweb Plugins</a></h1>
<p>The smallweb CLI can be extennded with plugins. To create a new plugin, just add a binary to your PATH that starts with <code>smallweb-</code> and the CLI will automatically detect it.</p>
<p>For example, if you create a new <code>smallweb-choose</code> file in your PATH with the following content:</p>
<pre><code class="language-sh">#!/bin/sh

# List all apps, pipe to fzf, and open the selected app
# see https://junegunn.github.io/fzf/installation/ for fzf installation instructions
smallweb ls | fzf --with-nth=1 | cut -f2 | xargs smallweb open
</code></pre>
<p>And make it executable with <code>chmod +x smallweb-choose</code>, you will be able to run <code>smallweb choose</code> and get an interactive list of your apps to choose from, which will then be opened in your default browser.</p>
<h2 id="example-plugins"><a class="header" href="#example-plugins">Example Plugins</a></h2>
<p><a href="https://github.com/iamseeley/simpl-site">simpl-site</a> can be installed as a smallweb plugin. You can install it using the following command:</p>
<pre><code class="language-sh">deno install -Agf jsr:@iamseeley/simpl-site/smallweb-simpl-site
</code></pre>
<p>You will then be able to run <code>smallweb simpl-site</code> to create a new static site.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tooling"><a class="header" href="#tooling">Tooling</a></h1>
<p>Smallweb is not tied to any specific tooling, but here are some tools that I use to develop and deploy my smallweb apps.</p>
<h2 id="cloudflare-tunnel"><a class="header" href="#cloudflare-tunnel">Cloudflare Tunnel</a></h2>
<p>I use <a href="https://www.cloudflare.com/products/tunnel/">Cloudflare Tunnel</a> to expose my smallweb instances to the internet. It gives me a bunch of features for free:</p>
<ul>
<li>DDoS protection</li>
<li>CDN caching</li>
<li>Access control (using Cloudflare Access)</li>
<li>Analytics</li>
<li>And a bunch more (that I don't know objet)</li>
</ul>
<p>I evaluated a bunch of tunneling solutions (and even started building my own), but the set of features that Cloudflare provides for free is hard to beat.</p>
<h2 id="mutagen"><a class="header" href="#mutagen">Mutagen</a></h2>
<p><a href="https://mutagen.io/">Mutagen</a> is an excellent 2-way file synchronization tool that can keep your local and remote files in sync. It's a great way to develop your smallweb apps locally and deploy them to your server.</p>
<p>Here is how I sync the <code>smallweb.run</code> folders between my VPS and my macbook:</p>
<pre><code class="language-sh">mutagen sync create --name=smallweb-run ~/smallweb.run vps:/home/smallweb/smallweb/smallweb.run
</code></pre>
<h2 id="vs-code-remote---ssh"><a class="header" href="#vs-code-remote---ssh">VS Code Remote - SSH</a></h2>
<p>When I want to debug my smallweb apps running on the VPS, I use <a href="https://code.visualstudio.com/docs/remote/ssh">VS Code Remote - SSH</a>. It allows me to connect to my VPS and run the VS Code debugger on the remote machine.</p>
<h2 id="tailscale"><a class="header" href="#tailscale">Tailscale</a></h2>
<p>I use <a href="https://tailscale.com/">Tailscale</a> to connect all my devices, including my VPS. It allows me to access my smallweb instances from anywhere, as if they were on my local network.</p>
<h2 id="la-terminal"><a class="header" href="#la-terminal">La Terminal</a></h2>
<p>To edit websites from an ipad or iphone, I recommend using <a href="https://la-terminal.net/">La Terminal</a>. It's the best free option available.</p>
<p>If you're ok with paying a yearly fee for a better experience, I recommend using <a href="https://blink.sh/">Blink Shell</a>.</p>
<h2 id="termux"><a class="header" href="#termux">Termux</a></h2>
<p>On android, there is no better option than <a href="https://termux.dev/en/">Termux</a>. It's a full-featured terminal emulator that allows me to connect to my VPS and run smallweb apps from my phone.</p>
<div style="break-before: page; page-break-before: always;"></div><p>This page will guide you through the process of setting up your local environment for smallweb on MacOS.</p>
<p>This setup is useful for developing and testing smallweb apps locally, without having to deploy them to the internet.</p>
<p>If you want to expose your apps to the internet instead, you can follow the <a href="hosting/localhost/../home-server/home-server.html">Cloudflare Tunnel setup guide</a>.</p>
<h2 id="architecture"><a class="header" href="#architecture">Architecture</a></h2>
<p>The following diagram illustrates the architecture of the local setup:</p>
<p><img src="hosting/localhost/./architecture.excalidraw.png" alt="Localhost architecture" /></p>
<p>The components needed are:</p>
<ul>
<li>a dns server to map <code>*.localhost</code> domains to <code>127.0.0.1</code> ip address (dnsmasq)</li>
<li>a reverse proxy to automatically generate https certificates for each domain, and redirect traffic to the smallweb evaluation server (caddy)</li>
<li>a service to map each domain to the corresponding folder in ~/localhost, and spawn a deno subprocess for each request (smallweb)</li>
</ul>
<h2 id="macos-setup"><a class="header" href="#macos-setup">MacOS setup</a></h2>
<p>In the future, we might provide a script to automate this process, but for now, it's a manual process.</p>
<h3 id="install-brew"><a class="header" href="#install-brew">Install Brew</a></h3>
<pre><code class="language-sh"># install homebrew (if not already installed)
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
</code></pre>
<h3 id="install-deno-macos"><a class="header" href="#install-deno-macos">Install Deno</a></h3>
<pre><code class="language-sh">brew install deno
</code></pre>
<h3 id="setup-smallweb-macos"><a class="header" href="#setup-smallweb-macos">Setup Smallweb</a></h3>
<pre><code class="language-sh">brew install pomdtr/tap/smallweb
smallweb service install
</code></pre>
<h3 id="setup-caddy-macos"><a class="header" href="#setup-caddy-macos">Setup Caddy</a></h3>
<pre><code class="language-sh">brew install caddy
# Write caddy configuration
cat &lt;&lt;EOF &gt; /opt/homebrew/etc/Caddyfile
*.localhost {
  tls internal {
    on_demand
  }

  reverse_proxy localhost:7777
}
EOF

# Run caddy in the background
brew services start caddy

# Add caddy https certificates to your keychain
caddy trust
</code></pre>
<h3 id="setup-dnsmasq"><a class="header" href="#setup-dnsmasq">Setup dnsmasq</a></h3>
<pre><code class="language-sh">brew install dnsmasq

# Write dnsmasq configuration
echo "address=/.localhost/127.0.0.1" &gt;&gt; /opt/homebrew/etc/dnsmasq.conf

# Run dnsmasq in the background
sudo brew services start dnsmasq

# Indicates to the system to use dnsmasq for .localhost domains
sudo mkdir -p /etc/resolver
cat &lt;&lt;EOF | sudo tee -a /etc/resolver/localhost
nameserver 127.0.0.1
EOF
</code></pre>
<h2 id="testing-the-setup-macos"><a class="header" href="#testing-the-setup-macos">Testing the setup</a></h2>
<p>First, let's create a dummy smallweb website:</p>
<pre><code class="language-sh">mkdir -p ~/localhost/example
CAT &lt;&lt;EOF &gt; ~/localhost/example/main.ts
export default {
  fetch() {
    return new Response("Smallweb is running", {
      headers: {
        "Content-Type": "text/plain",
      },
    });
  }
}
EOF
</code></pre>
<p>If everything went well, you should be able to access <code>https://example.localhost</code> in your browser, and see the message <code>Smallweb is running</code>.</p>
<h2 id="ubuntu--debian-setup"><a class="header" href="#ubuntu--debian-setup">Ubuntu / Debian setup</a></h2>
<h3 id="install-deno-ubuntu"><a class="header" href="#install-deno-ubuntu">Install Deno</a></h3>
<pre><code class="language-sh">curl -fsSL https://deno.land/install.sh | sh
# add ~/.deno/bin to PATH
echo "export PATH=\$PATH:\$HOME/.deno/bin" &gt;&gt; ~/.bashrc
</code></pre>
<h3 id="setup-smallweb-ubuntu"><a class="header" href="#setup-smallweb-ubuntu">Setup Smallweb</a></h3>
<pre><code class="language-sh">curl -FsSL https://install.smallweb.run | sh
# add ~/.local/bin to PATH
echo "export PATH=\$PATH:\$HOME/.local/bin" &gt;&gt; ~/.bashrc
smallweb service install
</code></pre>
<h3 id="setup-caddy-ubuntu"><a class="header" href="#setup-caddy-ubuntu">Setup Caddy</a></h3>
<pre><code class="language-sh">sudo apt install -y caddy

# Write caddy configuration
cat &lt;&lt;EOF &gt; /etc/caddy/Caddyfile
*.localhost {
  tls internal {
    on_demand
  }

  reverse_proxy localhost:7777
}
EOF

sudo systemctl restart caddy

caddy trust
</code></pre>
<p>There is no need to setup dnsmasq on Ubuntu, as it seems to be already configured to resolve <code>.localhost</code> domains to <code>127.0.0.1</code>.</p>
<h3 id="testing-setup-ubuntu"><a class="header" href="#testing-setup-ubuntu">Testing the setup</a></h3>
<p>First, let's create a dummy smallweb website:</p>
<pre><code class="language-sh">mkdir -p ~/localhost/example
CAT &lt;&lt;EOF &gt; ~/localhost/example/main.ts
export default {
  fetch() {
    return new Response("Smallweb is running", {
      headers: {
        "Content-Type": "text/plain",
      },
    });
  }
}
EOF
</code></pre>
<p>If everything went well, you should be able to access <code>https://example.localhost</code> in your browser, and see the message <code>Smallweb is running</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><p>Cloudflare Tunnel is a <strong>free</strong> service that allows you to expose your local server to the internet, without having to expose your local IP address.</p>
<p>Additionally, it provides some protection against DDoS attacks, and allows you to use Cloudflare's other services like Access.</p>
<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>
<ol>
<li>
<p>Make sure that you have a domain name that you can manage with Cloudflare.</p>
</li>
<li>
<p>Install smallweb on your server, and register it as a service.</p>
<pre><code class="language-ts">// install deno
curl -fsSL https://deno.land/install.sh | sh

// install smallweb
curl -sSfL https://install.smallweb.run | sh

// register smallweb as a service
smallweb service install

// make sure that the server service is running
smallweb service status
</code></pre>
</li>
<li>
<p>From your cloudflare dashboard, navigate to <code>Zero Trust &gt; Networks &gt; Tunnels</code></p>
</li>
<li>
<p>Click on <code>Create a tunnel</code>, and select the <code>Clouflared</code> option</p>
</li>
<li>
<p>Follow the intructions to install cloudflared, and create a connector on your device.</p>
</li>
<li>
<p>Add a wildcard hostname for your tunnel (ex: <code>*.&lt;your-domain&gt;</code>), and use <code>http://localhost:7777</code> as the origin service.</p>
<p><img src="hosting/home-server/./tunnel.png" alt="Tunnel Configuration" /></p>
</li>
<li>
<p>Do the same for your apex domain, if you want to manage it using smallweb.</p>
</li>
<li>
<p>Copy the tunnel ID, and go to <code>Websites &gt; DNS &gt; Records</code>.</p>
</li>
<li>
<p>Add a new <code>CNAME</code> record for your wildcard hostname, with a target of <code>&lt;tunnel-id&gt;.cfargotunnel.com</code>.</p>
</li>
</ol>
<p><img src="hosting/home-server/./dns.png" alt="DNS Configuration" /></p>
<h2 id="checking-that-your-tunnel-is-running"><a class="header" href="#checking-that-your-tunnel-is-running">Checking that your tunnel is running</a></h2>
<p>Create a dummy smallweb app in <code>~/localhost/example</code></p>
<pre><code class="language-sh">mkdir -p ~/localhost/example
CAT &lt;&lt;EOF &gt; ~/localhost/example/main.ts
export default {
  fetch() {
    return new Response("Smallweb is running", {
      headers: {
        "Content-Type": "text/plain",
      },
    });
  }
}
EOF
</code></pre>
<p>If everything went well, you should be able to access <code>https://example.&lt;your-domain&gt;</code> in your browser, and see the message <code>Smallweb is running</code>.</p>
<h2 id="optional-steps"><a class="header" href="#optional-steps">Optional Steps</a></h2>
<ul>
<li>You can protect your tunnel (or specific apps) with Cloudflare Access.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vps-setup"><a class="header" href="#vps-setup">VPS Setup</a></h1>
<p>If you're using a Debian-based VM, you can follow these steps to setup smallweb, assuming you're logged in as root.</p>
<p>These steps will also work on other distributions, but you may need to adjust the package manager commands.</p>
<pre><code class="language-bash"># create user with homedir and default shell
useradd -m -s $(which bash) smallweb

# fix home directory permissions
chown smallweb:smallweb /home/smallweb

# set a password for the smallweb user
passwd smallweb

# give the user sudo access
usermod -aG sudo smallweb

# allow the user to use systemd
usermod -aG systemd-journal smallweb

# run user services on login
loginctl enable-linger smallweb
</code></pre>
<p>At this point, you can switch to the <code>smallweb</code> user (ex: using <code>ssh smallweb@&lt;ip&gt;</code>) and install smallweb:</p>
<pre><code class="language-bash"># install unzip (required for deno)
sudo apt update &amp;&amp; sudo apt install unzip

# install deno
curl -fsSL https://deno.land/install.sh | sh # install deno

# install smallweb
curl -sSfL https://install.smallweb.run | sh # install smallweb

# start the smallweb service
smallweb service install
</code></pre>
<p>To make your service accessible from the internet, you have multiple options:</p>
<ul>
<li>setup a reverse proxy on port 443 (ex: caddy)</li>
<li>using cloudflare tunnel (see <a href="hosting/./home-server/home-server.html">cloudflare setup</a>)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hosting-on-flyio"><a class="header" href="#hosting-on-flyio">Hosting on fly.io</a></h1>
<p>A template repository to host your smallweb app on <a href="https://fly.io">fly.io</a> is available at <a href="https://github.com/pomdtr/smallweb-fly">pomdtr/smallweb-fly</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deno-deploy"><a class="header" href="#deno-deploy">Deno Deploy</a></h1>
<p>If one of your websites is starting to get a lot of traffic, you might want to deploy it to a cloud provider.</p>
<p>Deno Deploy is a cloud platform that allows you to deploy your Deno apps with ease. It's a great choice for smallweb apps, since it's built on top of Deno, and it's very easy to use.</p>
<p>To deploy an app, you'll just need to:</p>
<ol>
<li>
<p>Install the <code>deployctl</code> cli:</p>
<pre><code class="language-sh">deno install -Arf jsr:@deno/deployctl
</code></pre>
</li>
<li>
<p>Run <code>deployctl deploy</code>, and follow the instructions.</p>
</li>
</ol>
<p>Beware, all Deno APIs are not available in Deno Deploy. For example, you won't be able to write files to the filesystem.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="global-config"><a class="header" href="#global-config">Global Config</a></h1>
<p>The smallweb config is located at <code>~/.config/smallweb/config.json[c]</code>. It is a json file that defines global settings for smallweb.</p>
<p>You can also specify a custom config file by setting the <code>SMALLWEB_CONFIG</code> environment variable.</p>
<p>Smallweb also respects the <code>XDG_CONFIG_HOME</code> environment variable.</p>
<h2 id="host"><a class="header" href="#host"><code>host</code></a></h2>
<p>The <code>host</code> field defines the host to bind to. By default, it is <code>127.0.0.1</code>.</p>
<pre><code class="language-json">{
  "host": "0.0.0.0"
}
</code></pre>
<h2 id="port"><a class="header" href="#port"><code>port</code></a></h2>
<p>The <code>port</code> field defines the port to bind to. By default, it is <code>7777</code>.</p>
<pre><code class="language-json">{
  "port": 8000
}
</code></pre>
<h2 id="domains"><a class="header" href="#domains"><code>domains</code></a></h2>
<p>The <code>domains</code> field defines a list of domains to folders. By default, it maps <code>*.localhost</code> to <code>~/localhost/*</code>, but you can add more hostnames from the config.</p>
<pre><code class="language-json">{
  "domains": {
    "example.com": "~/example.com"
  }
}
</code></pre>
<p>See the <a href="reference/../guides/routing.html">Routing</a> guide for more information.</p>
<h2 id="env"><a class="header" href="#env"><code>env</code></a></h2>
<p>The <code>env</code> field defines a list of environment variables to set for all apps.</p>
<pre><code class="language-json">{
  "env": {
    "NODE_ENV": "production"
  }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="configuration-reference"><a class="header" href="#configuration-reference">Configuration Reference</a></h1>
<p>The smallweb configuration can be defined in a <code>smallweb.json[c]</code> file at the root of the project, or in the <code>smallweb</code> field of the <code>deno.json[c]</code> file. This config file is optional, and sensible defaults are used when it is not present.</p>
<p>A json schema for the config file is available <a href="https://schema.smallweb.run">here</a>.</p>
<p>You can set it using a <code>$schema</code> field in your <code>smallweb.json[c]</code> file:</p>
<pre><code class="language-json">{
  "$schema": "https://schema.smallweb.run",
  "serve": "./build"
}
</code></pre>
<p>VS Code Users can also set it globally in their <code>settings.json</code>:</p>
<pre><code class="language-json">{
  "json.schemas": [
    {
      "url": "https://schema.smallweb.run",
      "fileMatch": [
        "smallweb.json",
        "smallweb.jsonc"
      ]
    }
  ]
}
</code></pre>
<h2 id="serve"><a class="header" href="#serve"><code>serve</code></a></h2>
<p>The <code>serve</code> field defines the file / directory to serve. If this field is not provided, the following defaults are used:</p>
<ul>
<li>if a <code>main.[js,jsx,ts,tsx]</code> file exists in the root directory, it is served</li>
<li>if a <code>dist</code> directory exists and contains an <code>index.html</code> file, it is served</li>
<li>the root directory is served</li>
</ul>
<h3 id="serve-examples"><a class="header" href="#serve-examples">Examples</a></h3>
<ul>
<li>
<p>Serve a file</p>
<pre><code class="language-json">{
  "serve": "./serve.js"
}
</code></pre>
</li>
<li>
<p>Statically serve a directory</p>
<pre><code class="language-json">{
  "serve": "./build"
}
</code></pre>
</li>
</ul>
<h2 id="crons"><a class="header" href="#crons"><code>crons</code></a></h2>
<p>The <code>crons</code> field defines a list of cron jobs to run. See the <a href="reference/../guides/cron.html">Cron Jobs</a> guide for more information.</p>
<pre><code class="language-json">{
  "crons": [
    {
      "name": "example",
      "schedule": "0 0 * * *",
      "command": "./sync-db.ts",
    }
  ]
}
</code></pre>
<h2 id="permissions"><a class="header" href="#permissions"><code>permissions</code></a></h2>
<p>The <code>permissions</code> field defines a list of permissions to grant to the Deno process. See the <a href="reference/../guides/permissions.html">Permissions</a> guide for more information.</p>
<h3 id="permissions-examples"><a class="header" href="#permissions-examples">Examples</a></h3>
<ul>
<li>
<p>Giving all permissions</p>
<pre><code class="language-json">{
  "permissions": {
    "all": true
  }
}
</code></pre>
</li>
<li>
<p>Giving specific permissions</p>
<pre><code class="language-json">{
  "permissions": {
    "read": true,
    "write": {
      "allow": ["./", "/tmp"],
      "deny": ["./smallweb.json"]
    },
    "net": ["deno.land"]
  }
}
</code></pre>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cli-reference"><a class="header" href="#cli-reference">CLI Reference</a></h1>
<h2 id="smallweb"><a class="header" href="#smallweb">smallweb</a></h2>
<p>Host websites from your internet folder</p>
<h3 id="options"><a class="header" href="#options">Options</a></h3>
<pre><code>  -h, --help   help for smallweb
</code></pre>
<h2 id="smallweb-capture"><a class="header" href="#smallweb-capture">smallweb capture</a></h2>
<p>Extension capture</p>
<pre><code>smallweb capture [flags]
</code></pre>
<h3 id="options-1"><a class="header" href="#options-1">Options</a></h3>
<pre><code>  -h, --help   help for capture
</code></pre>
<h2 id="smallweb-choose"><a class="header" href="#smallweb-choose">smallweb choose</a></h2>
<p>Extension choose</p>
<pre><code>smallweb choose [flags]
</code></pre>
<h3 id="options-2"><a class="header" href="#options-2">Options</a></h3>
<pre><code>  -h, --help   help for choose
</code></pre>
<h2 id="smallweb-completion"><a class="header" href="#smallweb-completion">smallweb completion</a></h2>
<p>Generate the autocompletion script for the specified shell</p>
<h3 id="synopsis"><a class="header" href="#synopsis">Synopsis</a></h3>
<p>Generate the autocompletion script for smallweb for the specified shell.
See each sub-command's help for details on how to use the generated script.</p>
<h3 id="options-3"><a class="header" href="#options-3">Options</a></h3>
<pre><code>  -h, --help   help for completion
</code></pre>
<h2 id="smallweb-completion-bash"><a class="header" href="#smallweb-completion-bash">smallweb completion bash</a></h2>
<p>Generate the autocompletion script for bash</p>
<h3 id="synopsis-1"><a class="header" href="#synopsis-1">Synopsis</a></h3>
<p>Generate the autocompletion script for the bash shell.</p>
<p>This script depends on the 'bash-completion' package.
If it is not installed already, you can install it via your OS's package manager.</p>
<p>To load completions in your current shell session:</p>
<pre><code>source &lt;(smallweb completion bash)
</code></pre>
<p>To load completions for every new session, execute once:</p>
<h4 id="linux"><a class="header" href="#linux">Linux:</a></h4>
<pre><code>smallweb completion bash &gt; /etc/bash_completion.d/smallweb
</code></pre>
<h4 id="macos"><a class="header" href="#macos">macOS:</a></h4>
<pre><code>smallweb completion bash &gt; $(brew --prefix)/etc/bash_completion.d/smallweb
</code></pre>
<p>You will need to start a new shell for this setup to take effect.</p>
<pre><code>smallweb completion bash
</code></pre>
<h3 id="options-4"><a class="header" href="#options-4">Options</a></h3>
<pre><code>  -h, --help              help for bash
      --no-descriptions   disable completion descriptions
</code></pre>
<h2 id="smallweb-completion-fish"><a class="header" href="#smallweb-completion-fish">smallweb completion fish</a></h2>
<p>Generate the autocompletion script for fish</p>
<h3 id="synopsis-2"><a class="header" href="#synopsis-2">Synopsis</a></h3>
<p>Generate the autocompletion script for the fish shell.</p>
<p>To load completions in your current shell session:</p>
<pre><code>smallweb completion fish | source
</code></pre>
<p>To load completions for every new session, execute once:</p>
<pre><code>smallweb completion fish &gt; ~/.config/fish/completions/smallweb.fish
</code></pre>
<p>You will need to start a new shell for this setup to take effect.</p>
<pre><code>smallweb completion fish [flags]
</code></pre>
<h3 id="options-5"><a class="header" href="#options-5">Options</a></h3>
<pre><code>  -h, --help              help for fish
      --no-descriptions   disable completion descriptions
</code></pre>
<h2 id="smallweb-completion-help"><a class="header" href="#smallweb-completion-help">smallweb completion help</a></h2>
<p>Help about any command</p>
<h3 id="synopsis-3"><a class="header" href="#synopsis-3">Synopsis</a></h3>
<p>Help provides help for any command in the application.
Simply type completion help [path to command] for full details.</p>
<pre><code>smallweb completion help [command] [flags]
</code></pre>
<h3 id="options-6"><a class="header" href="#options-6">Options</a></h3>
<pre><code>  -h, --help   help for help
</code></pre>
<h2 id="smallweb-completion-powershell"><a class="header" href="#smallweb-completion-powershell">smallweb completion powershell</a></h2>
<p>Generate the autocompletion script for powershell</p>
<h3 id="synopsis-4"><a class="header" href="#synopsis-4">Synopsis</a></h3>
<p>Generate the autocompletion script for powershell.</p>
<p>To load completions in your current shell session:</p>
<pre><code>smallweb completion powershell | Out-String | Invoke-Expression
</code></pre>
<p>To load completions for every new session, add the output of the above command
to your powershell profile.</p>
<pre><code>smallweb completion powershell [flags]
</code></pre>
<h3 id="options-7"><a class="header" href="#options-7">Options</a></h3>
<pre><code>  -h, --help              help for powershell
      --no-descriptions   disable completion descriptions
</code></pre>
<h2 id="smallweb-completion-zsh"><a class="header" href="#smallweb-completion-zsh">smallweb completion zsh</a></h2>
<p>Generate the autocompletion script for zsh</p>
<h3 id="synopsis-5"><a class="header" href="#synopsis-5">Synopsis</a></h3>
<p>Generate the autocompletion script for the zsh shell.</p>
<p>If shell completion is not already enabled in your environment you will need
to enable it.  You can execute the following once:</p>
<pre><code>echo "autoload -U compinit; compinit" &gt;&gt; ~/.zshrc
</code></pre>
<p>To load completions in your current shell session:</p>
<pre><code>source &lt;(smallweb completion zsh)
</code></pre>
<p>To load completions for every new session, execute once:</p>
<h4 id="linux-1"><a class="header" href="#linux-1">Linux:</a></h4>
<pre><code>smallweb completion zsh &gt; "${fpath[1]}/_smallweb"
</code></pre>
<h4 id="macos-1"><a class="header" href="#macos-1">macOS:</a></h4>
<pre><code>smallweb completion zsh &gt; $(brew --prefix)/share/zsh/site-functions/_smallweb
</code></pre>
<p>You will need to start a new shell for this setup to take effect.</p>
<pre><code>smallweb completion zsh [flags]
</code></pre>
<h3 id="options-8"><a class="header" href="#options-8">Options</a></h3>
<pre><code>  -h, --help              help for zsh
      --no-descriptions   disable completion descriptions
</code></pre>
<h2 id="smallweb-config"><a class="header" href="#smallweb-config">smallweb config</a></h2>
<p>Open the smallweb config in your editor</p>
<pre><code>smallweb config [flags]
</code></pre>
<h3 id="options-9"><a class="header" href="#options-9">Options</a></h3>
<pre><code>  -h, --help   help for config
</code></pre>
<h2 id="smallweb-cron"><a class="header" href="#smallweb-cron">smallweb cron</a></h2>
<p>Manage cron jobs</p>
<h3 id="options-10"><a class="header" href="#options-10">Options</a></h3>
<pre><code>  -h, --help   help for cron
</code></pre>
<h2 id="smallweb-cron-help"><a class="header" href="#smallweb-cron-help">smallweb cron help</a></h2>
<p>Help about any command</p>
<h3 id="synopsis-6"><a class="header" href="#synopsis-6">Synopsis</a></h3>
<p>Help provides help for any command in the application.
Simply type cron help [path to command] for full details.</p>
<pre><code>smallweb cron help [command] [flags]
</code></pre>
<h3 id="options-11"><a class="header" href="#options-11">Options</a></h3>
<pre><code>  -h, --help   help for help
</code></pre>
<h2 id="smallweb-cron-list"><a class="header" href="#smallweb-cron-list">smallweb cron list</a></h2>
<p>List cron jobs</p>
<pre><code>smallweb cron list [flags]
</code></pre>
<h3 id="options-12"><a class="header" href="#options-12">Options</a></h3>
<pre><code>      --all          list all cron jobs
      --app string   filter by app
  -h, --help         help for list
      --json         output as json
</code></pre>
<h2 id="smallweb-cron-trigger"><a class="header" href="#smallweb-cron-trigger">smallweb cron trigger</a></h2>
<p>Trigger a cron job</p>
<pre><code>smallweb cron trigger &lt;cron&gt; [flags]
</code></pre>
<h3 id="options-13"><a class="header" href="#options-13">Options</a></h3>
<pre><code>      --app string   app cron job belongs to
  -h, --help         help for trigger
</code></pre>
<h2 id="smallweb-docs"><a class="header" href="#smallweb-docs">smallweb docs</a></h2>
<p>Generate smallweb cli documentation</p>
<pre><code>smallweb docs [flags]
</code></pre>
<h3 id="options-14"><a class="header" href="#options-14">Options</a></h3>
<pre><code>  -h, --help   help for docs
</code></pre>
<h2 id="smallweb-gallery"><a class="header" href="#smallweb-gallery">smallweb gallery</a></h2>
<p>Extension gallery</p>
<pre><code>smallweb gallery [flags]
</code></pre>
<h3 id="options-15"><a class="header" href="#options-15">Options</a></h3>
<pre><code>  -h, --help   help for gallery
</code></pre>
<h2 id="smallweb-help"><a class="header" href="#smallweb-help">smallweb help</a></h2>
<p>Help about any command</p>
<h3 id="synopsis-7"><a class="header" href="#synopsis-7">Synopsis</a></h3>
<p>Help provides help for any command in the application.
Simply type smallweb help [path to command] for full details.</p>
<pre><code>smallweb help [command] [flags]
</code></pre>
<h3 id="options-16"><a class="header" href="#options-16">Options</a></h3>
<pre><code>  -h, --help   help for help
</code></pre>
<h2 id="smallweb-init"><a class="header" href="#smallweb-init">smallweb init</a></h2>
<p>Init a new smallweb app</p>
<pre><code>smallweb init [dir] [flags]
</code></pre>
<h3 id="options-17"><a class="header" href="#options-17">Options</a></h3>
<pre><code>  -h, --help              help for init
  -t, --template string   The template to use
</code></pre>
<h2 id="smallweb-install"><a class="header" href="#smallweb-install">smallweb install</a></h2>
<pre><code>smallweb install [app] [dir] [flags]
</code></pre>
<h3 id="options-18"><a class="header" href="#options-18">Options</a></h3>
<pre><code>      --branch string   branch to checkout (default "smallweb")
  -h, --help            help for install
</code></pre>
<h2 id="smallweb-list"><a class="header" href="#smallweb-list">smallweb list</a></h2>
<p>List all smallweb apps</p>
<pre><code>smallweb list [flags]
</code></pre>
<h3 id="options-19"><a class="header" href="#options-19">Options</a></h3>
<pre><code>  -h, --help   help for list
      --json   output as json
</code></pre>
<h2 id="smallweb-open"><a class="header" href="#smallweb-open">smallweb open</a></h2>
<p>Open the smallweb app specified by dir in the browser</p>
<pre><code>smallweb open &lt;dir&gt; [flags]
</code></pre>
<h3 id="options-20"><a class="header" href="#options-20">Options</a></h3>
<pre><code>  -h, --help   help for open
</code></pre>
<h2 id="smallweb-service"><a class="header" href="#smallweb-service">smallweb service</a></h2>
<p>Manage smallweb service</p>
<h3 id="options-21"><a class="header" href="#options-21">Options</a></h3>
<pre><code>  -h, --help   help for service
</code></pre>
<h2 id="smallweb-service-help"><a class="header" href="#smallweb-service-help">smallweb service help</a></h2>
<p>Help about any command</p>
<h3 id="synopsis-8"><a class="header" href="#synopsis-8">Synopsis</a></h3>
<p>Help provides help for any command in the application.
Simply type service help [path to command] for full details.</p>
<pre><code>smallweb service help [command] [flags]
</code></pre>
<h3 id="options-22"><a class="header" href="#options-22">Options</a></h3>
<pre><code>  -h, --help   help for help
</code></pre>
<h2 id="smallweb-service-install"><a class="header" href="#smallweb-service-install">smallweb service install</a></h2>
<p>Install smallweb as a service</p>
<pre><code>smallweb service install [flags]
</code></pre>
<h3 id="options-23"><a class="header" href="#options-23">Options</a></h3>
<pre><code>  -h, --help   help for install
</code></pre>
<h2 id="smallweb-service-logs"><a class="header" href="#smallweb-service-logs">smallweb service logs</a></h2>
<p>Print service logs</p>
<pre><code>smallweb service logs [flags]
</code></pre>
<h3 id="options-24"><a class="header" href="#options-24">Options</a></h3>
<pre><code>  -f, --follow   Follow log output
  -h, --help     help for logs
</code></pre>
<h2 id="smallweb-service-restart"><a class="header" href="#smallweb-service-restart">smallweb service restart</a></h2>
<p>Restart smallweb service</p>
<pre><code>smallweb service restart [flags]
</code></pre>
<h3 id="options-25"><a class="header" href="#options-25">Options</a></h3>
<pre><code>  -h, --help   help for restart
</code></pre>
<h2 id="smallweb-service-start"><a class="header" href="#smallweb-service-start">smallweb service start</a></h2>
<p>Start smallweb service</p>
<pre><code>smallweb service start [flags]
</code></pre>
<h3 id="options-26"><a class="header" href="#options-26">Options</a></h3>
<pre><code>  -h, --help   help for start
</code></pre>
<h2 id="smallweb-service-status"><a class="header" href="#smallweb-service-status">smallweb service status</a></h2>
<p>View service status</p>
<pre><code>smallweb service status [flags]
</code></pre>
<h3 id="options-27"><a class="header" href="#options-27">Options</a></h3>
<pre><code>  -h, --help   help for status
</code></pre>
<h2 id="smallweb-service-stop"><a class="header" href="#smallweb-service-stop">smallweb service stop</a></h2>
<p>Stop smallweb service</p>
<pre><code>smallweb service stop [flags]
</code></pre>
<h3 id="options-28"><a class="header" href="#options-28">Options</a></h3>
<pre><code>  -h, --help   help for stop
</code></pre>
<h2 id="smallweb-service-uninstall"><a class="header" href="#smallweb-service-uninstall">smallweb service uninstall</a></h2>
<p>Uninstall smallweb service</p>
<pre><code>smallweb service uninstall [flags]
</code></pre>
<h3 id="options-29"><a class="header" href="#options-29">Options</a></h3>
<pre><code>  -h, --help   help for uninstall
</code></pre>
<h2 id="smallweb-up"><a class="header" href="#smallweb-up">smallweb up</a></h2>
<p>Start the smallweb evaluation server</p>
<pre><code>smallweb up [flags]
</code></pre>
<h3 id="options-30"><a class="header" href="#options-30">Options</a></h3>
<pre><code>  -h, --help                     help for up
      --host string              Host to listen on (default "localhost")
  -p, --port int                 Port to listen on
      --tls                      Enable TLS
      --tls-ca-cert string       TLS CA certificate file path
      --tls-cert string          TLS certificate file path
      --tls-client-auth string   TLS client auth mode (require, request, verify) (default "require")
      --tls-key string           TLS key file path
</code></pre>
<h2 id="smallweb-upgrade"><a class="header" href="#smallweb-upgrade">smallweb upgrade</a></h2>
<p>Upgrade to the latest version</p>
<pre><code>smallweb upgrade [version] [flags]
</code></pre>
<h3 id="options-31"><a class="header" href="#options-31">Options</a></h3>
<pre><code>  -h, --help   help for upgrade
</code></pre>
<!-- markdownlint-disable-file -->

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
